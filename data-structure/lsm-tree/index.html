<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Modern Tragedy Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Modern Tragedy Blog Atom Feed"><title data-react-helmet="true">LSM Tree | Modern Tragedy</title><meta data-react-helmet="true" property="og:url" content="https://hhow09.github.io//data-structure/lsm-tree"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="LSM Tree | Modern Tragedy"><meta data-react-helmet="true" name="description" content="Design a simple key value database"><meta data-react-helmet="true" property="og:description" content="Design a simple key value database"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hhow09.github.io//data-structure/lsm-tree"><link data-react-helmet="true" rel="alternate" href="https://hhow09.github.io//data-structure/lsm-tree" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hhow09.github.io//data-structure/lsm-tree" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.cb17f33c.css">
<link rel="preload" href="/assets/js/runtime~main.62461451.js" as="script">
<link rel="preload" href="/assets/js/main.fab569d8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Modern Tragedy</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hhow09" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Modern Tragedy</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/hhow09" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Index</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Algorithm</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/algorithm/union-find">Union Find</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/algorithm/leetcode-698-partition-to-k-equal-sum-subsets">698. Partition to K Equal Sum Subsets</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Data Structure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/data-structure/index">Index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/data-structure/skip-list">Skip List</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/data-structure/b-tree">B-Tree</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/data-structure/lsm-tree">LSM Tree</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Infrastructure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/infra/kustomization-helm-migration">Kustomization to Helm 3 Migration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Javascript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/js/js-closure">Closure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/js/js-immutability">Immutability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/js/js-dev-note">Javascript Dev Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/js/nodejs-event-loop">Node.js Event Loop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/js/js-fp">Functional Programming</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/js/js-test">JS Test</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Programming</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/programming/clean-code-note">Clean Code - Object Oriented Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/programming/concurrent-vs-parallelism">Concurrency vs. Parallelism v.s. Coroutine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/programming/encode-hash-encryption">Encode, Hash and Encryption</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">React</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/react-prop-drilling">Props Drilling and State Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/react-compund-component">Compound Component</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/react-parent-child-pass-value">3 Ways To Pass Values From Child to Parent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/react-dev-detail">React Dev Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/react-custom-hook">Design React Custom Hook</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/react-interview-questions">React Interview Questions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/redux-flux">Redux and Flux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/react-performance-optimization">Performance Optimization of React</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react/react-vs-vue">React v.s. Vue</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">System Design</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/system/cap">C.A.P Theorem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/system/distributed-cache">Distributed Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/system/db-rum">The RUM Conjecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web Dev</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/web-dev/web-lighthouse-performance">Lighthouse Performance / Frontend Performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/web-dev/web-browser-navigation-flow">Browser Navigation Flow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/web-dev/web-js-engine-introduction">JS engine: Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/web-dev/web-js-engine-object-optimization">JS engine: Optimizing of Object</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/web-dev/web-auth">Web Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/web-dev/webpack-overview">Webpack Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/web-dev/ssr-stream">Node.js Streaming Server-Side Rendering</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">LSM Tree</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="design-a-simple-key-value-database"></a>Design a simple key value database<a class="hash-link" href="#design-a-simple-key-value-database" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="first"></a>First<a class="hash-link" href="#first" title="Direct link to heading">#</a></h3><ul><li>Write: <strong>appending key-value pairs</strong> in a <strong>file as the storage unit</strong>.<ul><li>Complexity: <code>O(1)</code></li></ul></li><li>Read: with a target key <code>k</code>, scan through every k-v pairs. <ul><li>Complexity: <code>O(N)</code> (bad)</li></ul></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">k1: v1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">k2: v2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="optimization"></a>Optimization<a class="hash-link" href="#optimization" title="Direct link to heading">#</a></h3><p>To optimize read performance, we could use a hash map storing the <code>key-offset</code> for indexing. Now we have <code>O(1)</code> read. The limitation would be <strong>hash map</strong> must totally fit in memroy size.</p><p>This is the core idea of <a href="http://highscalability.com/blog/2011/1/10/riaks-bitcask-a-log-structured-hash-table-for-fast-keyvalue.html" target="_blank" rel="noopener noreferrer">Bitcask</a></p><p><img src="/assets/images/bitcask-write-6015a0a30ea0a23370bb45999767f5f8.jpeg"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-is-lsm-tree"></a>What is LSM Tree<a class="hash-link" href="#what-is-lsm-tree" title="Direct link to heading">#</a></h2><p><img src="/assets/images/lsm-tree-c83305155192b4ad1502845f5c881998.png"></p><ol><li>is a disk friendly data structure.</li><li>is designed to reduce disk I/O (bottleneck) with <strong>memory-buffered writes</strong></li><li>is used when dealing with <strong>write-heavy</strong> workloads.</li><li>is used by Cassandra / Dynomo DB, HBase, Riak, Lucene, Rocks DB</li><li>consisted of in-memory part (memtable) + disk part (SSTable)</li><li>The term <strong>merge</strong> refers to the algorithm with which data is managed in the structure.</li><li>The term <strong>tree</strong> in its name comes from the fact that data is organized into multiple levels similar to devices in the storage hierarchy in a typical computer where the top level device holds smaller subset of data and is faster to access while the lower levels holds larger segments of data and is slow to access.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="components"></a>Components<a class="hash-link" href="#components" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-memtable-in-memory"></a>1. Memtable (in memory)<a class="hash-link" href="#1-memtable-in-memory" title="Direct link to heading">#</a></h3><ul><li>LSMTree starts with an in-memory balanced tree (or hash table).</li><li>What data structure to use for the Memtable typically depends upon the performance requirements but must have a property that it should provide a sorted iteration over its contents. </li><li>When Memtable grows to a certain threshold, srot and flush into disk as a immutable SSTable</li><li>Memtable keeps the latest data.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-sstable-in-disk"></a>2. SSTable (in disk)<a class="hash-link" href="#2-sstable-in-disk" title="Direct link to heading">#</a></h3><p><img src="/assets/images/sstable-074ce681af39827fb7e3e5d4c2edd81a.png"></p><ul><li><p>SSTable is the disk component for LSM-tree.</p></li><li><p>SSTable is immutable.</p></li><li><p>contains a list of <strong>data blocks</strong> and an <strong>index block</strong></p><ul><li>data block stores key-value pairs ordered by keys.</li><li>index block stores the key ranges of all data blocks.</li></ul></li><li><p>when a SSTable is read, index block will be loaded into memory for binary search.</p></li><li><p>index block stores the key ranges of all data blocks.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-wal-write-ahead-log"></a>3. WAL (write ahead log)<a class="hash-link" href="#3-wal-write-ahead-log" title="Direct link to heading">#</a></h3><ul><li>for crash recovery</li><li>before actually write to memtable, write first to WAL</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="access-pattern"></a>Access Pattern<a class="hash-link" href="#access-pattern" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="read"></a>Read<a class="hash-link" href="#read" title="Direct link to heading">#</a></h3><p>search memtable first, if not found, search disk segments from latest to oldest</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="write"></a>Write<a class="hash-link" href="#write" title="Direct link to heading">#</a></h3><p>write data into WAL, then write to Memtable.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="delete"></a>Delete<a class="hash-link" href="#delete" title="Direct link to heading">#</a></h3><ul><li>add a special <strong>tombstone mark</strong>, means record is delete.</li><li>is also a append operation</li><li>data with <strong>tombstone mark</strong> will be discarded during compaction process.</li><li>data with <strong>tombstone mark</strong> will be regarded as <code>NULL</code> in read.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="compaction-strategies"></a>Compaction strategies<a class="hash-link" href="#compaction-strategies" title="Direct link to heading">#</a></h2><ul><li>The core algorithm utilized by compaction is the <strong>k-way merge sort</strong> algorithm adapted to SSTables.</li><li>Compaction strategy impacts the read/write performance and the space utilization in the LSM Tree. </li></ul><p>//TODO
<a href="https://dev.to/creativcoder/what-is-a-lsm-tree-3d75" target="_blank" rel="noopener noreferrer">https://dev.to/creativcoder/what-is-a-lsm-tree-3d75</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="optimization-1"></a>Optimization<a class="hash-link" href="#optimization-1" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="read-optimization"></a>Read Optimization<a class="hash-link" href="#read-optimization" title="Direct link to heading">#</a></h3><p><img src="/assets/images/read-optimization-078f30608a161c76dd82e69f20f4e6ad.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="index"></a>index<a class="hash-link" href="#index" title="Direct link to heading">#</a></h4><ul><li>We can have an in-memory index (a hashmap) which contains a mapping of keys to their byte offset in the file. However it&#x27;s not practical for it&#x27;s using too much memory</li><li>What practical implementations do is that they maintain a Sparse Index of each SSTable which contains only the subset of keys in memory and utilize binary search to quickly skip ranges and narrow the search space.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="fence-pointer"></a><strong>Fence pointer</strong><a class="hash-link" href="#fence-pointer" title="Direct link to heading">#</a></h4><p>when read SSTable, use in-memory fence pointer for binary search to reduce disk I/O.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bloom-filter"></a>Bloom filter<a class="hash-link" href="#bloom-filter" title="Direct link to heading">#</a></h4><p>to fast filter unexist key.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="merge-frequency"></a>merge frequency<a class="hash-link" href="#merge-frequency" title="Direct link to heading">#</a></h4><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pros"></a>Pros<a class="hash-link" href="#pros" title="Direct link to heading">#</a></h2><ol><li>fast write since append only</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="cons"></a>Cons<a class="hash-link" href="#cons" title="Direct link to heading">#</a></h2><ol><li>Range Query: still need to look up one by one.</li><li>compaction process affects read and write performance</li><li>extra space required to perform compaction</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="reference"></a>Reference<a class="hash-link" href="#reference" title="Direct link to heading">#</a></h2><ul><li><a href="https://codingnote.cc/zh-tw/p/566494/" target="_blank" rel="noopener noreferrer">ç°¡è¿°LSM-Tree</a></li><li><a href="https://dev.to/creativcoder/what-is-a-lsm-tree-3d75" target="_blank" rel="noopener noreferrer">What is a LSM Tree?</a></li><li><a href="https://www.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/" target="_blank" rel="noopener noreferrer">Designing Data-Intensive Applications Ch3</a></li><li><a href="https://youtu.be/b6SI8VbcT4w" target="_blank" rel="noopener noreferrer">Scaling Write-Intensive Key-Value Stores</a></li><li><a href="http://highscalability.com/blog/2011/1/10/riaks-bitcask-a-log-structured-hash-table-for-fast-keyvalue.html" target="_blank" rel="noopener noreferrer">Riak&#x27;s Bitcask - A Log-Structured Hash Table For Fast Key/Value Data</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/hhow09/hhow09.github.io/blob/source/docs/data-structure/4-lsm-tree.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/data-structure/b-tree"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« B-Tree</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/infra/kustomization-helm-migration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kustomization to Helm 3 Migration Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#design-a-simple-key-value-database" class="table-of-contents__link">Design a simple key value database</a><ul><li><a href="#first" class="table-of-contents__link">First</a></li><li><a href="#optimization" class="table-of-contents__link">Optimization</a></li></ul></li><li><a href="#what-is-lsm-tree" class="table-of-contents__link">What is LSM Tree</a></li><li><a href="#components" class="table-of-contents__link">Components</a><ul><li><a href="#1-memtable-in-memory" class="table-of-contents__link">1. Memtable (in memory)</a></li><li><a href="#2-sstable-in-disk" class="table-of-contents__link">2. SSTable (in disk)</a></li><li><a href="#3-wal-write-ahead-log" class="table-of-contents__link">3. WAL (write ahead log)</a></li></ul></li><li><a href="#access-pattern" class="table-of-contents__link">Access Pattern</a><ul><li><a href="#read" class="table-of-contents__link">Read</a></li><li><a href="#write" class="table-of-contents__link">Write</a></li><li><a href="#delete" class="table-of-contents__link">Delete</a></li></ul></li><li><a href="#compaction-strategies" class="table-of-contents__link">Compaction strategies</a></li><li><a href="#optimization-1" class="table-of-contents__link">Optimization</a><ul><li><a href="#read-optimization" class="table-of-contents__link">Read Optimization</a></li></ul></li><li><a href="#pros" class="table-of-contents__link">Pros</a></li><li><a href="#cons" class="table-of-contents__link">Cons</a></li><li><a href="#reference" class="table-of-contents__link">Reference</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/hhow09" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://www.linkedin.com/in/hhow09" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin</a></li><li class="footer__item"><a href="https://www.cakeresume.com/chihhao-huang-resume" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resume</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 hhow09, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.62461451.js"></script>
<script src="/assets/js/main.fab569d8.js"></script>
</body>
</html>